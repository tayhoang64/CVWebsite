@model WebCV.Models.Template;

<div class="container mt-5">

    <div class="row">
        <div class="col-md-4">
            <input class="btn btn-primary" type="file" accept="image/*" onchange="loadFile(event)">
            <button class="btn btn-primary mt-3" onclick="DownloadPDF()">Download As PDF</button>
        </div>
        <div class="col-md-8">
            <iframe src="@Url.Content("~/images/templates/" + Model.File)"
                    id="cv-iframe"
                    width="100%"
                    height="500"
                    frameborder="0"></iframe>
        </div>
    </div>

</div>

@section Scripts{
    <script>
        var loadFile = function (event) {
            var iframe = document.getElementById("cv-iframe");
            var elmnt = iframe.contentWindow.document.getElementsByTagName("img")[0];
            elmnt.src = URL.createObjectURL(event.target.files[0]);
        };

        function DownloadPDF() {
            let frameObj = document.getElementById("cv-iframe");
            let wspFrame = frameObj.contentWindow;
            wspFrame.focus();
            wspFrame.print();
        }
    </script>
}